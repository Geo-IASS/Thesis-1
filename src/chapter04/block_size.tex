%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Introduction
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Introduction}
\label{profiling:blockSize:introduction}
To further investigate the

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Results
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Results}
\label{profiling:blockSize:results}
This section details the results of profiling the initial \progLang{C}
implementation of the \command{TopN_Outlier_Pruning_Block} function across
numerous data sets, and with a varying block size. In addition, the execution
time of the algorithm was compared with a modified implementation which does not
use blocking in any way.

The data for the plots was obtained using the \software{MATLAB}
\command{profile} command. Descriptions of the data sets can be found in
\autoref{dataSets}.

% TODO

Please note that the legend in \autoref{profiling:blockSize:legend} is common to
all of the figures in this section (i.e.\
\autoref{profiling:blockSize:totalExecutionTime},
\autoref{profiling:blockSize:functionExecutionTime},
\autoref{profiling:blockSize:distanceCalls},
\autoref{profiling:blockSize:vectorsPruned},
\autoref{profiling:blockSize:totalRunTimeComplexity:lin},
\autoref{profiling:blockSize:totalRunTimeComplexity:log},
\autoref{profiling:blockSize:functionRunTimeComplexity:lin} and
\autoref{profiling:blockSize:functionRunTimeComplexity:log}).

\begin{figure}
    \centering
    \input{plots/block_size/legend}
    \caption[Block size profiling legend]
        {The legend for all figures in \autoref{profiling:blockSize}}
    \label{profiling:blockSize:legend}
\end{figure}

\begin{figure}
    \centering
    \input{plots/block_size/total_execution_time}
    \caption{Total algorithm execution time with various block size
        implementations}
    \label{profiling:blockSize:totalExecutionTime}
\end{figure}

\begin{figure}
    \centering
    \input{plots/block_size/function_execution_time}
    \caption{Function execution time with various block size implementations}
    \label{profiling:blockSize:functionExecutionTime}
\end{figure}

\begin{figure}
    \centering
    \input{plots/block_size/distance_calls}
    \caption{Number of calls to the \command{distance} function with various
        block size implementations}
    \label{profiling:blockSize:distanceCalls}
\end{figure}

\begin{figure}
    \centering
    \input{plots/block_size/vectors_pruned}
    \caption[Number of vectors pruned with various block size implementations]{
        Number of vectors pruned (for the \command{TopN_Outlier_Pruning_Block}
        function) with various block size implementations}
    \label{profiling:blockSize:vectorsPruned}
\end{figure}

\begin{figure}
    \centering
    \begin{minipage}{\textwidth}
        \centering
        \input{plots/block_size/total_run_time_complexity.lin}
        \caption{Total run time complexity with various block size
            implementations}
        \label{profiling:blockSize:totalRunTimeComplexity:linear}
    \end{minipage}
    \begin{minipage}{\textwidth}
        \centering
        \input{plots/block_size/total_run_time_complexity.log}
        \caption[Total run time complexity with various block size
            implementations]{Total run time complexity (for the
            \command{TopN_Outlier_Pruning_Block} function) with various block
            size implementations}
        \label{profiling:blockSize:totalRunTimeComplexity:logarithmic}
    \end{minipage}
\end{figure}

\begin{figure}
    \centering
    \begin{minipage}{\textwidth}
        \centering
        \input{plots/block_size/function_run_time_complexity.lin}
        \caption[Function run time complexity with various block size
            implementations]{Function run time complexity (for the
            \command{TopN_Outlier_Pruning_Block} function) with various block
            size implementations}
        \label{profiling:blockSize:functionRunTimeComplexity:linear}
    \end{minipage}
    \begin{minipage}{\textwidth}
       \centering
        \input{plots/block_size/function_run_time_complexity.log}
        \caption[Function run time complexity with various block size
            implementations]{Function run time complexity (for the
            \command{TopN_Outlier_Pruning_Block} function) with various block
            size implementations}
        \label{profiling:blockSize:functionRunTimeComplexity:logarithmic}
    \end{minipage}
\end{figure}